<link rel="import" href="../polymer/polymer.html">
<polymer-element name='torque-slides' attributes='duration current'>
  <script>
    Polymer('torque-slides', {
      ready: function(){
        var list = this.querySelectorAll('torque-slide');
        for(var i = 1; i < list.length; i++) {
          list[i].hidden = true;
        }
        this.current = 0;
        var self = this;
        setInterval(function() {
          self.current = (self.current + 1) % self.querySelectorAll('torque-slide').length;
        }, parseInt(this.duration)*1000);
      },
      currentChanged: function(oldValue, newValue) {
        var list = this.querySelectorAll('torque-slide');
        if(oldValue !== undefined) {
          list[oldValue].hidden = true;
        }
        list[newValue].hidden = false;
      }
    });
  </script>
</polymer-element>
