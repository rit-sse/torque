<link rel="import" href="../polymer/polymer.html">
<polymer-element name='torque-slides' attributes='duration current'>
  <script>
    Polymer('torque-slides', {
      ready: function(){
        var self = this;
        window.addEventListener('polymer-ready', function(e) {
          var list = self.querySelectorAll('/deep/ torque-slide');
          for(var i = 1; i < list.length; i++) {
            list[i].hidden = true;
          }
          self.current = 0;

          setInterval(function() {
            self.current = (self.current + 1) % self.querySelectorAll('/deep/ torque-slide').length;
          }, parseInt(self.duration)*1000);
        });
      },
      currentChanged: function(oldValue, newValue) {
        var list = this.querySelectorAll('/deep/ torque-slide');
        if(oldValue !== undefined) {
          list[oldValue].hidden = true;
        }
        list[newValue].hidden = false;
      }
    });
  </script>
</polymer-element>
